---
title: "ST558 Project 2"
author: "Shyam Gadhwala & Kamlesh Pandey"
date: "9/28/2022"
output: github_document
---






# Required packages 

# Functions for API

# EDA

# Summary


# Required packages 


```{r, warning=FALSE, message=FALSE}
library(httr)
library(tidyverse)
library(jsonlite)
library(dplyr)

```

I am considering of 3 api with two modifications

1. Search Recipe
2. Search Recipe with Nutrients
3. Search Recipe with Ingredients

# 

```{r}
<<<<<<< HEAD
URL     <- 'https://api.nasa.gov/DONKI/'

api_key <-  'igUogzKaubKUi5TTgsbYcdVgU8pICrvizcCrCtY5'

fillapi <- function(url, startEnd, endDate){
  return(paste0(url, "CME?", "startDate=", startEnd, "&endDate=", endDate, "&api_key=", api_key))
}

# Accessing data from API
#res <- GET(url = paste(URL, api.key, sep = '?api_key='))
res <- GET(fillapi(URL, "2019-01-01", "2021-01-01"))

#print(str(res, max.level = 1))

# converting into a data frame

nasa.data <- fromJSON(rawToChar(res$content))

# to know more about the structure of the datatset
#print(str(nasa.data, max.level = 1))

#print(nasa.data)
#names(nasa.data)
```

```{r, warning=FALSE, message=FALSE}
op <- as_tibble(matrix(nasa.data$cmeAnalyses[1,]))
op
#op$centroid_coordinates
=======

URL     <- 'https://api.spoonacular.com/recipes/complexSearch?query=pasta&maxFat=25&number=2'

api.key <-  '1cbc662969264fce908100922bb50a6b'

search.option <- c('By.recepies', 'By.ingredients', 'By.nutrients')

get.data <- function(endpoint, choices) {
  URL <- 'https://api.spoonacular.com/recipes/complexSearch?query'
  api.key = '1cbc662969264fce908100922bb50a6b'
  if (endpoint == 'By.recepies'){
      temp <- paste(URL, choices, sep = '=')
      res <- GET(paste(temp, api.key, sep = '&apiKey='))
      final.data <- fromJSON(rawToChar(res$content))
  }
  
return (final.data$results)
  
}
>>>>>>> 45837963d93b17fdab9756d7b633d87c204d03ee

data <- get.data('By.recepies', 'indian')
```