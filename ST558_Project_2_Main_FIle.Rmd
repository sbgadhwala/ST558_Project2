---
title: "ST558 Project 2"
author: "Shyam & Kamlesh"
date: "9/28/2022"
output: github_document
---






# Required packages 

# Functions for API

# EDA

# Summary


# Required packages 


```{r, warning=FALSE, message=FALSE}
library(httr)
library(jsonlite)
library(dplyr)

```

I am considering of 3 api with two modifications

1. Search Recipe
2. Search Recipe with Nutrients
3. Search Recipe with Ingredients

# 

```{r}

URL     <- 'https://api.spoonacular.com/recipes/complexSearch?query=pasta&maxFat=25&number=2'

api.key <-  '1cbc662969264fce908100922bb50a6b'

search.option <- c('By.recepies', 'By.ingredients', 'By.nutrients')

get.data <- function(endpoint, choices) {
  URL <- 'https://api.spoonacular.com/recipes/complexSearch?query'
  api.key = '1cbc662969264fce908100922bb50a6b'
  if (endpoint == 'By.recepies') {
    if (choices == 'pasta'){
      temp <- paste(URL, choices, sep = '=')
      res <- GET(paste(temp, api.key, sep = '&apiKey='))
      final.data <- fromJSON(rawToChar(res$content))
    }
  }
  
return (final.data$results)
  
}

data <- get.data('By.recepies', 'pasta')




# 
# # Accessing data from API
# res <- GET(paste(URL, api.key, sep = '&apiKey='))
# 
# str(res, max.level = 1)
# 
# # converting into a data frame
# 
# food.data <- fromJSON(rawToChar(res$content))
# 
# # to know more about the structure of the datatset
# str(food.data, max.level = 1)
# 
# names(nasa.data)
```

```{r}
op <- as_tibble(nasa.data$coords)
op$centroid_coordinates

```